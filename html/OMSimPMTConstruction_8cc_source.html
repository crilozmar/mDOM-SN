<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>OMSim: src/OMSimPMTConstruction.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OMSim
   &#160;<span id="projectnumber">G4.10.7v0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('OMSimPMTConstruction_8cc_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">OMSimPMTConstruction.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="OMSimPMTConstruction_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;dirent.h&gt;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;G4Box.hh&gt;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;G4Cons.hh&gt;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;G4Ellipsoid.hh&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;G4LogicalVolume.hh&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;G4PVPlacement.hh&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;G4Sphere.hh&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;G4SubtractionSolid.hh&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;G4SystemOfUnits.hh&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;G4Torus.hh&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;G4Tubs.hh&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;G4UnionSolid.hh&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;G4UnitsTable.hh&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;G4VisAttributes.hh&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;OMSimPMTConstruction.hh&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">double</span> pi;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">extern</span> G4bool gVisual;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">extern</span> G4int gPMT;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">// Hash and mix are needed for switch statemens with strings</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;uint64_t constexpr mix(<span class="keywordtype">char</span> m, uint64_t s)</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;{</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordflow">return</span> ((s&lt;&lt;7) + ~(s&gt;&gt;3)) + ~m;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;}</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;uint64_t constexpr hash(<span class="keyword">const</span> <span class="keywordtype">char</span> * m)</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;{</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordflow">return</span> (*m) ? mix(*m,hash(m+1)) : 0;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;}</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;OMSimPMTConstruction::OMSimPMTConstruction(<a class="code" href="classOMSimInputData.html">OMSimInputData</a>* pData){</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    mData = pData;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;}</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;G4UnionSolid* OMSimPMTConstruction::GetPMTSolid(){</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">return</span> mPMTSolid;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keywordtype">void</span> OMSimPMTConstruction::PlaceIt(G4ThreeVector pPosition, G4RotationMatrix* pRotation, G4LogicalVolume*&amp; pMother, G4String pNameExtension ){</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keyword">new</span> G4PVPlacement(pRotation, pPosition, mPMTlogical, <span class="stringliteral">&quot;PMT_&quot;</span>+pNameExtension, pMother, <span class="keyword">false</span>, 0, mCheckOverlaps);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;}</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="keywordtype">void</span> OMSimPMTConstruction::PlaceIt(G4Transform3D pTransform, G4LogicalVolume*&amp; pMother, G4String pNameExtension ){</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keyword">new</span> G4PVPlacement(pTransform, mPMTlogical, <span class="stringliteral">&quot;PMT_&quot;</span>+pNameExtension, pMother, <span class="keyword">false</span>, 0, mCheckOverlaps);</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keywordtype">void</span> OMSimPMTConstruction::SimulateInternalReflections(){</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    </div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    </div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">if</span> (mSelectedPMT==<span class="stringliteral">&quot;pmt_Hamamatsu_R15458&quot;</span>){</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        mInternalReflections = <span class="keyword">true</span>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        mDynodeSystem = <span class="keyword">true</span>;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    }</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">else</span>{</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        G4cerr &lt;&lt; <span class="stringliteral">&quot;Internal reflections inside PMT is on, but this PMT has no Dynode system defined, only vacuum! I will continue with internal reflections anyway...&quot;</span> &lt;&lt; G4endl;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        mInternalReflections = <span class="keyword">true</span>;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        mDynodeSystem = <span class="keyword">false</span>;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    }</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    ConstructIt();</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keywordtype">void</span> OMSimPMTConstruction::ConstructIt(){</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    </div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    G4UnionSolid* lGlassInside;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    G4UnionSolid* lVacuumMirrorSolid;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    G4SubtractionSolid* lVacuumPhotocathodeSolid;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    G4SubtractionSolid* lVacuumTubeSolid;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    </div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    std::tie(mPMTSolid, lVacuumPhotocathodeSolid) = BulbConstruction(<span class="stringliteral">&quot;jOuterShape&quot;</span>);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    std::tie(lGlassInside, lVacuumPhotocathodeSolid) = BulbConstruction(<span class="stringliteral">&quot;jInnerShape&quot;</span>);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    </div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    mPMTlogical = <span class="keyword">new</span> G4LogicalVolume(mPMTSolid, mData-&gt;<a class="code" href="classOMSimInputData.html#a1313cb66907920eae3b8e05a94f8cb4f">GetMaterial</a>(<span class="stringliteral">&quot;RiAbs_Glass_Tube&quot;</span>), <span class="stringliteral">&quot;PMT tube logical&quot;</span>);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    mPMTlogical-&gt;SetVisAttributes(mGlassVis);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    </div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">if</span> (mInternalReflections){</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        lVacuumTubeSolid = <span class="keyword">new</span> G4SubtractionSolid(<span class="stringliteral">&quot;Vacuum Tube solid&quot;</span>, lGlassInside, lVacuumPhotocathodeSolid, 0, G4ThreeVector(0,0,0));</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="comment">//lVacuumTubeSolid = new G4SubtractionSolid(&quot;Vacuum Tube solid&quot;, lVacuumTubeSolid, lVacuumMirrorSolid, 0, G4ThreeVector(0,0,0));</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        </div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        G4LogicalVolume* lVacuumPhotocathodeLogical      = <span class="keyword">new</span> G4LogicalVolume(lVacuumPhotocathodeSolid, mData-&gt;<a class="code" href="classOMSimInputData.html#a1313cb66907920eae3b8e05a94f8cb4f">GetMaterial</a>(<span class="stringliteral">&quot;Ri_Vacuum&quot;</span>), <span class="stringliteral">&quot;Photocathode area vacuum&quot;</span>);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="comment">//G4LogicalVolume* lVacuumMirrorLogical            = new G4LogicalVolume(lVacuumMirrorSolid, mData-&gt;GetMaterial(&quot;Ri_Vacuum&quot;), &quot;Mirror area vacuum&quot;);</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="comment">//G4LogicalVolume* lVacuumTubeLogical              = new G4LogicalVolume(lVacuumTubeSolid, mData-&gt;GetMaterial(&quot;Ri_Vacuum&quot;), &quot;Tube vacuum&quot;);</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        </div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        G4PVPlacement* lVacuumPhotocathodePlacement    = <span class="keyword">new</span> G4PVPlacement(0, G4ThreeVector(0, 0, 0), lVacuumPhotocathodeLogical, <span class="stringliteral">&quot;Vacuum_1&quot;</span>, mPMTlogical, <span class="keyword">false</span>, 0, mCheckOverlaps);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="comment">//G4PVPlacement* lVacuumMirrorPlacement           = new G4PVPlacement(0, G4ThreeVector(0, 0, 0), lVacuumMirrorLogical, &quot;Vacuum_2&quot;, mPMTlogical, false, 0, mCheckOverlaps);</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="comment">//G4PVPlacement* lVacuumTubePlacement            = new G4PVPlacement(0, G4ThreeVector(0, 0, 0), lVacuumTubeLogical, &quot;Vacuum_3&quot;, mPMTlogical, false, 0, mCheckOverlaps);</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        </div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="comment">//         if (mDynodeSystem){</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="comment">//             DynodeSystemConstruction(lVacuumTubeLogical);</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="comment">//         }</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        lVacuumPhotocathodeLogical-&gt;SetVisAttributes(mPhotocathodeVis);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="comment">//lVacuumTubeLogical-&gt;SetVisAttributes(mAirVis);</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="comment">//lVacuumMirrorLogical-&gt;SetVisAttributes(mInvisibleVis);</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    </div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">else</span>{</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        G4LogicalVolume* lTubeVacuum = <span class="keyword">new</span> G4LogicalVolume(lGlassInside, mData-&gt;<a class="code" href="classOMSimInputData.html#a1313cb66907920eae3b8e05a94f8cb4f">GetMaterial</a>(<span class="stringliteral">&quot;Ri_Vacuum&quot;</span>), <span class="stringliteral">&quot;PMTvacuum&quot;</span>);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        G4LogicalVolume* lPhotocathode = <span class="keyword">new</span> G4LogicalVolume(lVacuumPhotocathodeSolid, mData-&gt;<a class="code" href="classOMSimInputData.html#a1313cb66907920eae3b8e05a94f8cb4f">GetMaterial</a>(<span class="stringliteral">&quot;Ri_Vacuum&quot;</span>), <span class="stringliteral">&quot;Photocathode&quot;</span>);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        G4PVPlacement* lVacuumPlacement    = <span class="keyword">new</span> G4PVPlacement(0, G4ThreeVector(0, 0, 0), lTubeVacuum, <span class="stringliteral">&quot;VacuumTube&quot;</span>, mPMTlogical, <span class="keyword">false</span>, 0, mCheckOverlaps);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        G4PVPlacement* lPhotocathodePlacement    = <span class="keyword">new</span> G4PVPlacement(0, G4ThreeVector(0, 0, 0), lPhotocathode, <span class="stringliteral">&quot;VacuumPhoto&quot;</span>, lTubeVacuum, <span class="keyword">false</span>, 0, mCheckOverlaps);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        CathodeBackShield(lTubeVacuum);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        lPhotocathode-&gt;SetVisAttributes(mPhotocathodeVis);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        lTubeVacuum-&gt;SetVisAttributes(mInvisibleVis);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    }</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    </div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    </div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="keywordtype">void</span> OMSimPMTConstruction::DynodeSystemConstruction(G4LogicalVolume* pMother){</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    </div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    G4double lEntranceH                 = 19.5*mm;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    G4double lEntranceW                 = 21.9*mm;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    G4double lPlateWidth                = 0.7*mm; </div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    G4double lPlateRad                  = 46.*0.5*mm; </div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    G4double lFirstDynodeH              = 18.06*mm;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    G4double lFirstDynodeCurvatureR     = 14.6439*mm;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    </div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    G4double lFurthestX = 13.8593179*mm;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    G4double lFurthestY = 2.0620*mm;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    </div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    G4Tubs* lFirstDynode = <span class="keyword">new</span> G4Tubs(<span class="stringliteral">&quot;FirstDynode&quot;</span>, 0, lFirstDynodeCurvatureR, lEntranceW*0.5, 8.46*degree, 106.64*degree-8.46*degree);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    G4Tubs* lSubstTube = <span class="keyword">new</span> G4Tubs(<span class="stringliteral">&quot;FirstDynode&quot;</span>, 0, lFirstDynodeCurvatureR, lEntranceW*1, 0, 114.39*degree);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    G4Box*  lSubBox = <span class="keyword">new</span> G4Box(<span class="stringliteral">&quot;box&quot;</span>, 30*mm, lFurthestY, lEntranceW);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    </div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    G4double lleftBoxH = 14.102*mm;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    G4double lleftBoxW = 4.216*mm;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    G4Box*  lleftBox = <span class="keyword">new</span> G4Box(<span class="stringliteral">&quot;box&quot;</span>, 0.5*lleftBoxW, 0.5*lleftBoxH, lEntranceW*0.5);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    </div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    G4double lThirdDynodeHeight = 6.2*mm;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    </div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    G4double lLargeBoxH =  lleftBoxH-lThirdDynodeHeight-lFurthestY;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    G4double lLargeBoxW =  7*mm;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    G4Box*  lLargeBox = <span class="keyword">new</span> G4Box(<span class="stringliteral">&quot;box&quot;</span>, 0.5*lLargeBoxW, 0.5*lLargeBoxH, lEntranceW*0.5);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    </div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    G4SubtractionSolid* newSubst = <span class="keyword">new</span> G4SubtractionSolid(<span class="stringliteral">&quot;Subst&quot;</span>, lFirstDynode, lSubstTube, 0,G4ThreeVector(lFurthestX,lFurthestY, 0)); </div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    newSubst = <span class="keyword">new</span> G4SubtractionSolid(<span class="stringliteral">&quot;Subst&quot;</span>, newSubst, lSubBox, 0,G4ThreeVector(0,0, 0)); </div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    </div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    G4UnionSolid* lUnion = <span class="keyword">new</span> G4UnionSolid(<span class="stringliteral">&quot;curvature leftbox&quot;</span>, newSubst, lleftBox, 0, G4ThreeVector(-lleftBoxW*0.5, lleftBoxH*0.5,0));</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    lUnion = <span class="keyword">new</span> G4UnionSolid(<span class="stringliteral">&quot;curvature leftbox&quot;</span>, lUnion, lLargeBox, 0, G4ThreeVector(-lLargeBoxW, lLargeBoxH*0.5+lFurthestY,0));</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    </div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    </div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    </div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    G4Tubs* lDynodeEntrancePlate = <span class="keyword">new</span> G4Tubs(<span class="stringliteral">&quot;DynodeEntrancePlate&quot;</span>, 0, lPlateRad, lPlateWidth, 0, 360.*degree);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    G4Box* lEntranceWindowSubst = <span class="keyword">new</span> G4Box(<span class="stringliteral">&quot;Entrance window&quot;</span>, lEntranceW*0.5,lEntranceH*0.5,30*mm);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    G4SubtractionSolid* lDynodeEntrance = <span class="keyword">new</span> G4SubtractionSolid(<span class="stringliteral">&quot;Substracted Plate&quot;</span>, lDynodeEntrancePlate, lEntranceWindowSubst);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    </div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    G4Tubs* lDynodeSystem = <span class="keyword">new</span> G4Tubs(<span class="stringliteral">&quot;DynodeEntrancePlate&quot;</span>, 0, lPlateRad-2*mm, 0.5*15*mm, 0, 360.*degree);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    </div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    </div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    </div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    G4RotationMatrix* myRotation1 = <span class="keyword">new</span> G4RotationMatrix();</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    myRotation1-&gt;rotateX(90.*deg);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    myRotation1-&gt;rotateY(90.*deg);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    G4SubtractionSolid* lSubstractedDynodeSystem = <span class="keyword">new</span> G4SubtractionSolid(<span class="stringliteral">&quot;Substracteddynode&quot;</span>, lDynodeSystem, lUnion, myRotation1, G4ThreeVector(0,-(lFurthestX-lEntranceH*0.5), +lFurthestY+15*0.5*mm+0.1*mm));</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    </div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    G4LogicalVolume* lDynodeSystemLog = <span class="keyword">new</span> G4LogicalVolume(lSubstractedDynodeSystem, mData-&gt;<a class="code" href="classOMSimInputData.html#a1313cb66907920eae3b8e05a94f8cb4f">GetMaterial</a>(<span class="stringliteral">&quot;NoOptic_Reflector&quot;</span>), <span class="stringliteral">&quot;PMT_12199 tube logical&quot;</span>);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    </div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    </div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    </div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    G4LogicalVolume* lDynodeEntranceLog = <span class="keyword">new</span> G4LogicalVolume(lDynodeEntrance, mData-&gt;<a class="code" href="classOMSimInputData.html#a1313cb66907920eae3b8e05a94f8cb4f">GetMaterial</a>(<span class="stringliteral">&quot;NoOptic_Reflector&quot;</span>), <span class="stringliteral">&quot;PMT_12199 tube logical&quot;</span>);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    </div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    G4double lDistanceDynodeFrontalEllipsoid = -(29.6-7.9)*mm;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keyword">new</span> G4PVPlacement (0,G4ThreeVector(0,0,lDistanceDynodeFrontalEllipsoid), lDynodeEntranceLog, <span class="stringliteral">&quot;Frontal_plate&quot;</span>, pMother, <span class="keyword">false</span>, 0, mCheckOverlaps);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keyword">new</span> G4PVPlacement (0,G4ThreeVector(0, 0,-15*0.5*mm-lPlateWidth+lDistanceDynodeFrontalEllipsoid), lDynodeSystemLog, <span class="stringliteral">&quot;FirstDynode&quot;</span>, pMother, <span class="keyword">false</span>, 0, mCheckOverlaps);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    </div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;std::tuple&lt;G4UnionSolid*, G4SubtractionSolid*&gt;  OMSimPMTConstruction::BulbConstruction(G4String pSide){</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    G4String lParameterSet = mData-&gt;mPMTdata-&gt;mTable.at(mSelectedPMT).get&lt;G4String&gt;(<span class="stringliteral">&quot;jShape&quot;</span>);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    G4UnionSolid* U1;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    G4SubtractionSolid* S1;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">if</span> (mInternalReflections){</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keywordflow">switch</span>(hash(lParameterSet)){</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <span class="keywordflow">case</span> hash(<span class="stringliteral">&quot;jOnlyFront_SphereEllipse&quot;</span>)   : std::tie(U1, S1) = BulbConstructionFullFit(pSide, false, false); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            <span class="keywordflow">case</span> hash(<span class="stringliteral">&quot;jOnlyFront_2Ellipses&quot;</span>)       : std::tie(U1, S1) = BulbConstructionFullFit(pSide, true, false); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            <span class="keywordflow">case</span> hash(<span class="stringliteral">&quot;jFullFit_SphereEllipse&quot;</span>)     : std::tie(U1, S1) = BulbConstructionFullFit(pSide, false, true); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <span class="keywordflow">case</span> hash(<span class="stringliteral">&quot;jFullFit_2Ellipses&quot;</span>)         : std::tie(U1, S1) = BulbConstructionFullFit(pSide, true, true); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            <span class="keywordflow">default</span>                                 : std::tie(U1, S1) = BulbConstructionFullFit(pSide, <span class="keyword">false</span>, <span class="keyword">false</span>); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    </div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">else</span>{</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">switch</span>(hash(lParameterSet)){</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <span class="keywordflow">case</span> hash(<span class="stringliteral">&quot;jOnlyFront_SphereEllipse&quot;</span>)   : std::tie(U1, S1) = BulbConstructionFullFit(pSide, false, false); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <span class="keywordflow">case</span> hash(<span class="stringliteral">&quot;jOnlyFront_2Ellipses&quot;</span>)       : std::tie(U1, S1) = BulbConstructionFullFit(pSide, true, false); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <span class="keywordflow">case</span> hash(<span class="stringliteral">&quot;jFullFit_SphereEllipse&quot;</span>)     : std::tie(U1, S1) = BulbConstructionFullFit(pSide, false, false); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            <span class="keywordflow">case</span> hash(<span class="stringliteral">&quot;jFullFit_2Ellipses&quot;</span>)         : std::tie(U1, S1) = BulbConstructionFullFit(pSide, true, false); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <span class="keywordflow">default</span>                                 : std::tie(U1, S1) = BulbConstructionFullFit(pSide, <span class="keyword">false</span>, <span class="keyword">false</span>); <span class="keywordflow">break</span>;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">return</span> std::make_tuple(U1, S1);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="keywordtype">void</span> OMSimPMTConstruction::ReadParameters(G4String pSide,  G4bool pDoubleEllipse, G4bool pFullFit){</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    mTotalLenght               = mData-&gt;mPMTdata-&gt;<a class="code" href="classOMSimInputData_1_1ParameterTable.html#ad181a8aa37de369b8980c317a11f2cb0">Get</a>(pSide+<span class="stringliteral">&quot;.jTotalLenght&quot;</span>);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    mTubeWidth                 = mData-&gt;mPMTdata-&gt;<a class="code" href="classOMSimInputData_1_1ParameterTable.html#ad181a8aa37de369b8980c317a11f2cb0">Get</a>(pSide+<span class="stringliteral">&quot;.jTubeWidth&quot;</span>);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    mOutRad                    = mData-&gt;mPMTdata-&gt;<a class="code" href="classOMSimInputData_1_1ParameterTable.html#ad181a8aa37de369b8980c317a11f2cb0">Get</a>(pSide+<span class="stringliteral">&quot;.jOutRad&quot;</span>);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    mEllipseXYaxis             = mData-&gt;mPMTdata-&gt;<a class="code" href="classOMSimInputData_1_1ParameterTable.html#ad181a8aa37de369b8980c317a11f2cb0">Get</a>(pSide+<span class="stringliteral">&quot;.jEllipseXYaxis&quot;</span>);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    mEllipseZaxis              = mData-&gt;mPMTdata-&gt;<a class="code" href="classOMSimInputData_1_1ParameterTable.html#ad181a8aa37de369b8980c317a11f2cb0">Get</a>(pSide+<span class="stringliteral">&quot;.jEllipseZaxis&quot;</span>);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    mSphereEllipseTransition_r = mData-&gt;mPMTdata-&gt;<a class="code" href="classOMSimInputData_1_1ParameterTable.html#ad181a8aa37de369b8980c317a11f2cb0">Get</a>(pSide+<span class="stringliteral">&quot;.jSphereEllipseTransition_r&quot;</span>);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    mSpherePos_y               = mData-&gt;mPMTdata-&gt;<a class="code" href="classOMSimInputData_1_1ParameterTable.html#ad181a8aa37de369b8980c317a11f2cb0">Get</a>(pSide+<span class="stringliteral">&quot;.jSpherePos_y&quot;</span>);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    mEllipsePos_y              = mData-&gt;mPMTdata-&gt;<a class="code" href="classOMSimInputData_1_1ParameterTable.html#ad181a8aa37de369b8980c317a11f2cb0">Get</a>(pSide+<span class="stringliteral">&quot;.jEllipsePos_y&quot;</span>);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    </div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">if</span> (pFullFit){</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        mLineFitSlope              = mData-&gt;mPMTdata-&gt;<a class="code" href="classOMSimInputData_1_1ParameterTable.html#ad181a8aa37de369b8980c317a11f2cb0">Get</a>(pSide+<span class="stringliteral">&quot;.jLineFitSlope&quot;</span>);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        mEllipseConeTransition_x   = mData-&gt;mPMTdata-&gt;<a class="code" href="classOMSimInputData_1_1ParameterTable.html#ad181a8aa37de369b8980c317a11f2cb0">Get</a>(pSide+<span class="stringliteral">&quot;.jEllipseConeTransition_x&quot;</span>);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        mEllipseConeTransition_y   = mData-&gt;mPMTdata-&gt;<a class="code" href="classOMSimInputData_1_1ParameterTable.html#ad181a8aa37de369b8980c317a11f2cb0">Get</a>(pSide+<span class="stringliteral">&quot;.jEllipseConeTransition_y&quot;</span>);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        mConeTorusTransition_x     = mData-&gt;mPMTdata-&gt;<a class="code" href="classOMSimInputData_1_1ParameterTable.html#ad181a8aa37de369b8980c317a11f2cb0">Get</a>(pSide+<span class="stringliteral">&quot;.jConeTorusTransition_x&quot;</span>);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        mTorusCircleR              = mData-&gt;mPMTdata-&gt;<a class="code" href="classOMSimInputData_1_1ParameterTable.html#ad181a8aa37de369b8980c317a11f2cb0">Get</a>(pSide+<span class="stringliteral">&quot;.jTorusCircleR&quot;</span>);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        mTorusCirclePos_x          = mData-&gt;mPMTdata-&gt;<a class="code" href="classOMSimInputData_1_1ParameterTable.html#ad181a8aa37de369b8980c317a11f2cb0">Get</a>(pSide+<span class="stringliteral">&quot;.jTorusCirclePos_x&quot;</span>);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        mTorusCirclePos_y          = mData-&gt;mPMTdata-&gt;<a class="code" href="classOMSimInputData_1_1ParameterTable.html#ad181a8aa37de369b8980c317a11f2cb0">Get</a>(pSide+<span class="stringliteral">&quot;.jTorusCirclePos_y&quot;</span>);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        mTorusTubeTransition_y     = mData-&gt;mPMTdata-&gt;<a class="code" href="classOMSimInputData_1_1ParameterTable.html#ad181a8aa37de369b8980c317a11f2cb0">Get</a>(pSide+<span class="stringliteral">&quot;.jTorusTubeTransition_y&quot;</span>);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    </div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">if</span> (pDoubleEllipse) {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        mEllipseXYaxis_2             = mData-&gt;mPMTdata-&gt;<a class="code" href="classOMSimInputData_1_1ParameterTable.html#ad181a8aa37de369b8980c317a11f2cb0">Get</a>(pSide+<span class="stringliteral">&quot;.jEllipseXYaxis_2&quot;</span>);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        mEllipseZaxis_2              = mData-&gt;mPMTdata-&gt;<a class="code" href="classOMSimInputData_1_1ParameterTable.html#ad181a8aa37de369b8980c317a11f2cb0">Get</a>(pSide+<span class="stringliteral">&quot;.jEllipseZaxis_2&quot;</span>);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        mEllipsePos_y_2              = mData-&gt;mPMTdata-&gt;<a class="code" href="classOMSimInputData_1_1ParameterTable.html#ad181a8aa37de369b8980c317a11f2cb0">Get</a>(pSide+<span class="stringliteral">&quot;.jEllipsePos_y_2&quot;</span>);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    }</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    </div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">if</span> (pSide==<span class="stringliteral">&quot;jOuterShape&quot;</span>){</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        mPMTMaxRad = mEllipseXYaxis;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    </div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;}</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="keywordtype">void</span> OMSimPMTConstruction::CathodeBackShield(G4LogicalVolume* pPMTinner){</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    </div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    ReadParameters(<span class="stringliteral">&quot;jInnerShape&quot;</span>,  <span class="keyword">false</span> , <span class="keyword">false</span>);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    G4double lPCDiameter  = 2 * mEllipseXYaxis;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    G4double lShieldBottomcut = mEllipseZaxis / mEllipseXYaxis * std::sqrt(std::pow(mEllipseXYaxis, 2.) - std::pow(0.5*lPCDiameter, 2.));</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    G4double lShieldRad = -0.01*mm + mEllipseXYaxis / mEllipseZaxis * std::sqrt(std::pow(mEllipseZaxis, 2.) - std::pow(0.5*lShieldBottomcut, 2.)); <span class="comment">// shield matches glass  </span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    G4Tubs* lShieldSolid = <span class="keyword">new</span> G4Tubs(<span class="stringliteral">&quot;Shield solid&quot;</span>, 0, lShieldRad, 0.1*mm, 0, 2*pi);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    G4LogicalVolume* lShieldLogical = <span class="keyword">new</span> G4LogicalVolume(lShieldSolid, mData-&gt;<a class="code" href="classOMSimInputData.html#a1313cb66907920eae3b8e05a94f8cb4f">GetMaterial</a>(<span class="stringliteral">&quot;Ri_Vacuum&quot;</span>), <span class="stringliteral">&quot;Shield logical&quot;</span>);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keyword">new</span> G4PVPlacement (0, G4ThreeVector(0,0, -0.1*mm), lShieldLogical, <span class="stringliteral">&quot;Shield physical&quot;</span>, pPMTinner, <span class="keyword">false</span>, 0, mCheckOverlaps);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    lShieldLogical-&gt;SetVisAttributes(mSteelVis);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;std::tuple&lt;G4UnionSolid*, G4SubtractionSolid*&gt;  OMSimPMTConstruction::BulbConstructionFullFit(G4String pSide,  G4bool pDoubleEllipse, G4bool pFullFit){</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;     G4String lParameterSet = mData-&gt;mPMTdata-&gt;mTable.at(mSelectedPMT).get&lt;G4String&gt;(<span class="stringliteral">&quot;jShape&quot;</span>);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    </div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    ReadParameters(pSide, pDoubleEllipse, pFullFit);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    </div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    G4double SphereAngle  = asin(mSphereEllipseTransition_r / mOutRad);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    </div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="comment">// PMT frontal glass envelope as union of sphere and ellipse    </span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    G4Ellipsoid* lBulbEllipsoid = <span class="keyword">new</span> G4Ellipsoid(<span class="stringliteral">&quot;Solid Bulb Ellipsoid&quot;</span>, mEllipseXYaxis, mEllipseXYaxis, mEllipseZaxis);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    G4Sphere* lBulbSphere = <span class="keyword">new</span> G4Sphere(<span class="stringliteral">&quot;Solid Bulb Ellipsoid&quot;</span>, 0.0, mOutRad, 0, 2*pi, 0, SphereAngle);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    G4UnionSolid* lBulbSolid = <span class="keyword">new</span> G4UnionSolid(<span class="stringliteral">&quot;Solid Bulb&quot;</span>, lBulbEllipsoid, lBulbSphere, 0, G4ThreeVector(0,0, mSpherePos_y- mEllipsePos_y));</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    </div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">if</span> (lParameterSet == <span class="stringliteral">&quot;jOnlyFront_2Ellipses&quot;</span> || lParameterSet == <span class="stringliteral">&quot;jFullFit_2Ellipses&quot;</span>) {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        G4Ellipsoid* lBulbEllipsoid_2 = <span class="keyword">new</span> G4Ellipsoid(<span class="stringliteral">&quot;Solid Bulb Ellipsoid 2&quot;</span>, mEllipseXYaxis_2, mEllipseXYaxis_2, mEllipseZaxis_2);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        G4double lExcess = mEllipsePos_y - mEllipsePos_y_2;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        G4Tubs* lSubtractionTube =  <span class="keyword">new</span> G4Tubs(<span class="stringliteral">&quot;substracion_tube_large_ellipsoid&quot;</span>, 0.0, mEllipseXYaxis_2*2, 0.5*mTotalLenght,0,2*pi);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        G4SubtractionSolid* lSubstractedLargeEllipsoid = <span class="keyword">new</span> G4SubtractionSolid(<span class="stringliteral">&quot;Substracted Bulb Ellipsoid 2&quot;</span>, lBulbEllipsoid_2, lSubtractionTube, 0,  G4ThreeVector(0,0,lExcess-mTotalLenght*0.5));  </div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        lBulbSolid = <span class="keyword">new</span> G4UnionSolid(<span class="stringliteral">&quot;Solid Bulb&quot;</span>, lBulbSolid, lSubstractedLargeEllipsoid, 0, G4ThreeVector(0,0,mEllipsePos_y_2-mEllipsePos_y));</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    }</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        G4double lSphereAngle  = asin( mSphereEllipseTransition_r / mOutRad);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        G4Sphere* lBulbSphere = <span class="keyword">new</span> G4Sphere(<span class="stringliteral">&quot;Solid Bulb Ellipsoid&quot;</span>, 0.0, mOutRad, 0, 2*pi, 0, lSphereAngle);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        lBulbSolid = <span class="keyword">new</span> G4UnionSolid(<span class="stringliteral">&quot;Solid Bulb&quot;</span>, lBulbEllipsoid, lBulbSphere, 0, G4ThreeVector(0,0,mSpherePos_y-mEllipsePos_y));   </div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    </div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    </div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="comment">// Defining volume with boundaries of photocathode volume</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    G4Tubs* lLargeTube = <span class="keyword">new</span> G4Tubs(<span class="stringliteral">&quot;LargeTube&quot;</span>, 0, mEllipseXYaxis, 50*cm,0,2*pi);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    G4SubtractionSolid* lPhotocathodeSide = <span class="keyword">new</span> G4SubtractionSolid(<span class="stringliteral">&quot;SubstractionPhotocathodeSide&quot;</span>, lBulbSolid, lLargeTube, 0, G4ThreeVector(0,0,-50*cm));</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    </div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="comment">//     G4SubtractionSolid* lReflectiveSide = new G4SubtractionSolid(&quot;Reflective side&quot;, lBulbSolid, lLargeTube, 0, G4ThreeVector(0,0, mOutRad*2));</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    </div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">// Rest of tube</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    G4double lFrontToEllipse_y = mOutRad + mSpherePos_y - mEllipsePos_y;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    </div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    G4double lMissingTubeLength = (mTotalLenght-lFrontToEllipse_y)*0.5*mm;       </div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    G4Tubs* lBulkSolid = <span class="keyword">new</span> G4Tubs(<span class="stringliteral">&quot;Bulb bulk solid&quot;</span>, 0.0, 0.5*mTubeWidth, lMissingTubeLength, 0, 2*pi);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    </div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">if</span> (pSide == <span class="stringliteral">&quot;jOuterShape&quot;</span>){</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        mPMTCenterToTip = lFrontToEllipse_y;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    </div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">if</span> (pFullFit){</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="comment">// Creating Cone</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        G4double lConeLength_x = mEllipseConeTransition_x - mConeTorusTransition_x;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        G4double lConeHalfHeight = mLineFitSlope * lConeLength_x*0.5;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        G4Cons* lCone = <span class="keyword">new</span> G4Cons(<span class="stringliteral">&quot;Solid substraction cone&quot;</span>, mConeTorusTransition_x, mConeTorusTransition_x+mTubeWidth, mEllipseConeTransition_x, mEllipseConeTransition_x+mTubeWidth, lConeHalfHeight, 0, 2*pi);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        </div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="comment">// Cone is substracted from frontal volume </span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        G4double lConeEllipse_y = mEllipseConeTransition_y - mEllipsePos_y - lConeHalfHeight;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        G4SubtractionSolid* lBulbSolidSubstractions = <span class="keyword">new</span> G4SubtractionSolid(<span class="stringliteral">&quot;Substracted solid bulb&quot;</span>, lBulbSolid, </div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                                                                             lCone, 0, G4ThreeVector(0,0,lConeEllipse_y));</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        </div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="comment">// Creating Torus</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        G4Torus* lTorus = <span class="keyword">new</span> G4Torus(<span class="stringliteral">&quot;Solid substraction torus&quot;</span>, 0.0, mTorusCircleR, mTorusCirclePos_x, 0, 2*pi);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        G4double lTorusToEllipse = mTorusCirclePos_y - mEllipsePos_y;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        G4Tubs* lTubeEdge = <span class="keyword">new</span> G4Tubs(<span class="stringliteral">&quot;Solid edge of torus&quot;</span>, mTorusCirclePos_x, mEllipseConeTransition_x+mTubeWidth, mTorusCirclePos_x*0.5, 0, 2*pi);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        </div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        G4UnionSolid* lTorusTubeEdge = <span class="keyword">new</span> G4UnionSolid(<span class="stringliteral">&quot;Solid torus with cylindrical edges&quot;</span>, lTorus, lTubeEdge, 0, G4ThreeVector(0,0, 0));</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        </div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="comment">// Create Tube for substracting cone and torus</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        G4double lSubstractionTubeLength = mEllipseConeTransition_y - mTorusTubeTransition_y;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        G4Tubs* lSubstractionTube = <span class="keyword">new</span> G4Tubs(<span class="stringliteral">&quot;substracion_tube&quot;</span>, 0.0, mEllipseConeTransition_x, 0.5 * lSubstractionTubeLength,0,2*pi);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        </div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        G4double lSTubeEllipse_y = mEllipseConeTransition_y - mEllipsePos_y - lSubstractionTubeLength*0.5;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        </div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        G4SubtractionSolid* lBulbBack = <span class="keyword">new</span> G4SubtractionSolid(<span class="stringliteral">&quot;Solid back of PMT&quot;</span>, lSubstractionTube, lCone,0, G4ThreeVector(0,0,lConeEllipse_y-lSTubeEllipse_y)); </div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        lBulbBack = <span class="keyword">new</span> G4SubtractionSolid(<span class="stringliteral">&quot;Solid back of PMT&quot;</span>, lBulbBack, lTorusTubeEdge,0, G4ThreeVector(0,0,lTorusToEllipse-lSTubeEllipse_y)); </div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        </div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="comment">//     G4UnionSolid* lReflectiveVolume = new G4UnionSolid(&quot;photocathode&quot;, lReflectiveSide, lBulbBack, 0, G4ThreeVector(0,0, lSTubeEllipse_y));</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        </div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="comment">// For some parameters this shape is too complicated for the visualizer, so I don&#39;t use the boolean in case of visualization</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="comment">// if you wanna see the PMT, negate this condition and use RayTracerX</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">if</span> (gVisual){</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            lBulbSolid = <span class="keyword">new</span> G4UnionSolid(<span class="stringliteral">&quot;Bulb tube solid&quot;</span>, lBulbSolidSubstractions, lBulbBack, 0,G4ThreeVector(0,0, lSTubeEllipse_y) );</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            lBulbSolid = <span class="keyword">new</span> G4UnionSolid(<span class="stringliteral">&quot;Bulb tube solid&quot;</span>, lBulbSolid, lBulkSolid, 0, G4ThreeVector(0, 0, -lMissingTubeLength));</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        }</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;             lBulbSolid = <span class="keyword">new</span> G4UnionSolid(<span class="stringliteral">&quot;Bulb tube solid&quot;</span>, lBulbSolid, lBulkSolid, 0, G4ThreeVector(0, 0, -lMissingTubeLength));</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            </div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        }</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        </div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        </div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    }</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        lBulbSolid = <span class="keyword">new</span> G4UnionSolid(<span class="stringliteral">&quot;Bulb tube solid&quot;</span>, lBulbSolid, lBulkSolid, 0, G4ThreeVector(0,0, -lMissingTubeLength));</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        </div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    </div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">return</span> std::make_tuple(lBulbSolid, lPhotocathodeSide);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    </div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;}</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="keywordtype">void</span> OMSimPMTConstruction::SelectPMT(G4String pPMTtoSelect) {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">if</span> (pPMTtoSelect.substr (0,6) == <span class="stringliteral">&quot;argPMT&quot;</span>){</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        G4String lPMTTypes[] = {<span class="stringliteral">&quot;pmt_Hamamatsu_R15458&quot;</span>, <span class="stringliteral">&quot;pmt_ETEL_9320KFL-KFB&quot;</span>, <span class="stringliteral">&quot;pmt_HZC_XP82B2F&quot;</span>, <span class="stringliteral">&quot;pmt_Hamamatsu_4inch&quot;</span>};</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        SelectPMT(lPMTTypes[gPMT]);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    }</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        G4int lFound = mData-&gt;mPMTdata-&gt;mTable.count(pPMTtoSelect);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="keywordflow">if</span> (lFound &gt; 0) {</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            mSelectedPMT = pPMTtoSelect;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            mData-&gt;mPMTdata-&gt;mSelectedKey = pPMTtoSelect;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            G4cout &lt;&lt; pPMTtoSelect &lt;&lt; <span class="stringliteral">&quot; selected.&quot;</span> &lt;&lt; G4endl;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            ConstructIt();</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        }</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="keywordflow">else</span>{</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            G4cerr &lt;&lt;  <span class="stringliteral">&quot;Selected PMT not in PMT tree, please check that requested PMT exists in data folder.&quot;</span> &lt;&lt;  G4endl; </div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        }</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    }</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;}</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div><div class="ttc" id="classOMSimInputData_1_1ParameterTable_html_ad181a8aa37de369b8980c317a11f2cb0"><div class="ttname"><a href="classOMSimInputData_1_1ParameterTable.html#ad181a8aa37de369b8980c317a11f2cb0">OMSimInputData::ParameterTable::Get</a></div><div class="ttdeci">G4double Get(G4String pParameter)</div><div class="ttdef"><b>Definition:</b> <a href="OMSimInputData_8cc_source.html#l00436">OMSimInputData.cc:436</a></div></div>
<div class="ttc" id="classOMSimInputData_html"><div class="ttname"><a href="classOMSimInputData.html">OMSimInputData</a></div><div class="ttdef"><b>Definition:</b> <a href="OMSimInputData_8hh_source.html#l00015">OMSimInputData.hh:15</a></div></div>
<div class="ttc" id="classOMSimInputData_html_a1313cb66907920eae3b8e05a94f8cb4f"><div class="ttname"><a href="classOMSimInputData.html#a1313cb66907920eae3b8e05a94f8cb4f">OMSimInputData::GetMaterial</a></div><div class="ttdeci">G4Material * GetMaterial(G4String name)</div><div class="ttdef"><b>Definition:</b> <a href="OMSimInputData_8cc_source.html#l00066">OMSimInputData.cc:66</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="OMSimPMTConstruction_8cc.html">OMSimPMTConstruction.cc</a></li>
    <li class="footer">Generated on Mon Mar 29 2021 11:21:20 for OMSim by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
